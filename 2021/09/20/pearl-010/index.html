<!DOCTYPE html>
<html lang="en-us">

<!-- add vanousek css style -->
<link rel="stylesheet" href="/blog/all.css">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Pealr 010 - The Database Pearl &middot; Miki Vanousek's blog
    
  </title>

  
  <link rel="canonical" href="https://mikulasvanousek.github.io/blog/2021/09/20/pearl-010/">
  

  <link rel="stylesheet" href="https://mikulasvanousek.github.io/blog/public/css/poole.css">
  <link rel="stylesheet" href="https://mikulasvanousek.github.io/blog/public/css/syntax.css">
  <link rel="stylesheet" href="https://mikulasvanousek.github.io/blog/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://mikulasvanousek.github.io/blog/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="https://mikulasvanousek.github.io/blog/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://mikulasvanousek.github.io/blog/atom.xml">

  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>You can find my notes here.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="https://mikulasvanousek.github.io/blog/">Home</a>

    

    
    
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="https://mikulasvanousek.github.io/blog/about/">Miki Vanoušek</a>
        
      
    
      
    
      
        
      
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    

    <a class="sidebar-nav-item" href="/archive/v1.1.0.zip">Download</a>
    <a class="sidebar-nav-item" href="">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.1.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2021. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/blog/" title="Home">Miki Vanousek's blog</a>
            <small></small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <!-- the two sripts add latex support -->
<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']],
  },
  svg: {
    fontCache: 'global'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>


<div class="post">
  <h1 class="post-title">Pealr 010 - The Database Pearl</h1>
  <span class="post-date">20 Sep 2021</span>
  <p>How can we store data:</p>
<ul>
  <li>in large volumes</li>
  <li>so it does not get lost or corrupted</li>
  <li>reliably available</li>
  <li>durably</li>
  <li>securely</li>
  <li>robustly</li>
</ul>

<p>Database (DB) resides on a database server.
DB is managed by database management system (DBMS).
End users controls applications, that query DBMS.</p>

<p>ANSI/SPARC architecture:</p>
<ul>
  <li>disks</li>
  <li>physical schema</li>
  <li>conceptual schema</li>
  <li>external schemas</li>
  <li>apps</li>
</ul>

<p>Development process:</p>
<ul>
  <li>information analyst makes an entity-relationship (ER) model</li>
  <li>database designer uses the DBMS to create the database</li>
  <li>database admin manages the DB and allows accesses</li>
  <li>application programmer queries the DB in the app</li>
</ul>

<p>DB is made up of tables. Tables have attributes and records.</p>

<p>Key - collection of one or more attributes that determine a record in a table:</p>
<ul>
  <li>primary key - unique for every record, every table needs one</li>
  <li>surrogate key - synthetic primary key</li>
  <li>candidate key - minimal group of columns that uniquely identifies every entry</li>
  <li>composite key - a key made up of more than one attribute</li>
  <li>foreign key - a primary key from another table used to reference an entry</li>
</ul>

<p><strong>Foreign key</strong> is an attribute, that is a primary key in another table.</p>

<p>Redundant information in databases causes insertion and update issues.
This can be solved by splitting the table into</p>

<h2 id="modeling">Modeling</h2>
<ol>
  <li>observing the real world, collecting requirements</li>
  <li>converting the requirements into a data model
    <ul>
      <li>use the Grady Bush methodology - identify nouns (entity) and verbs ( relationships)</li>
      <li>unified modeling language (UML)</li>
      <li>add multiplicity (one to one, may to one, many to many) to every relationship</li>
    </ul>
  </li>
  <li>deriving the table structure from the data model</li>
</ol>

<h2 id="sql">SQL</h2>
<p>SQL stand for Structured Query Language.</p>

<p>It is a data definition language (DDL) and data manipulation language (DML).</p>

<p>In relational databases operations take tables as inputs
and produce tables as outputs.</p>

<p><strong>Selection</strong> reduces the number of rows.</p>

<p><strong>Projection</strong> reduces the number of columns.</p>

<p>data query language (DQL) commands:</p>
<ul>
  <li>SELECT {DISTINCT} [columns] {AS alias} from [tables]
    <ul>
      <li>you can use multiple SELECT statements and join them with set operator</li>
    </ul>
  </li>
  <li>WHERE [condition]
    <ul>
      <li>you can use logical operators AND, OR, NOT in the condition</li>
      <li>you can also use IS NULL and IS NOT NULL</li>
      <li>you can use [column] LIKE [pattern with wild cards % (any chars) and _ (1 char)]</li>
      <li>you can use [column] IN [multiple values]</li>
      <li>you can use [column] BETWEEN [value1] and [value2]</li>
    </ul>
  </li>
  <li>ORDER BY [columns] {ASC}/DES</li>
  <li>LIMIT [number]</li>
  <li>[table1] [INNER / LEFT / RIGHT / CROSS] [table2] ON [condition]
    <ul>
      <li>you can join a table onto itself by FROM [table] t1, [table] t2
data manipulation language (DML) commands:</li>
    </ul>
  </li>
  <li>INSERT INTO [table]…
    <ul>
      <li>…([columns]) VALUES ([values])</li>
      <li>…FROM [table2] WHERE [condition]</li>
    </ul>
  </li>
  <li>UPDATE [table] SET [column1=value1…columnn=valuen]
    <ul>
      <li>you can use WHERE after</li>
    </ul>
  </li>
  <li>DELETE FROM [table] WHERE [condition]</li>
</ul>

<p>data definition language (DDL) commands:</p>
<ul>
  <li>CREATE [DATABASE/TABLE] [name]</li>
  <li>DROP [DATABASE/TABLE] [name]</li>
  <li>ALTER TABLE [name]…
    <ul>
      <li>… ADD COLUMN [name] [data type]</li>
      <li>… DROP COLUMN [name]</li>
      <li>… MODIFY COLUMN [name] [data type] [constraint]</li>
    </ul>
  </li>
  <li>TRUNCATE</li>
</ul>

<p>functions:</p>
<ul>
  <li>SELECT FUNCTION([column]) FROM [table] WHERE [condition]</li>
  <li>MIN</li>
  <li>MAX</li>
  <li>COUNT</li>
  <li>can also be used 
  SELECT [column] count(id) FROM [table] GROUP BY [column]</li>
  <li>AVG</li>
  <li>SUM</li>
  <li>IFNULL</li>
</ul>

<p>other syntax:</p>
<ul>
  <li>CASE<br />
WHEN condition1 THEN result1<br />
WHEN condition2 THEN result2<br />
WHEN conditionN THEN resultN<br />
ELSE result<br />
END;</li>
  <li>comment with $-\ -$ (double-dash) for single line
 and /* … */ for multi line</li>
  <li>arithmetic operators: +, -, *, /, %</li>
  <li>comparisons: =, &gt;, &lt;, &gt;, &gt;=, &lt;=, &lt;&gt;</li>
  <li>set operators: UNION, INTERSECT, EXCEPT</li>
  <li>logical operators:
    <ul>
      <li>ALL, SOME/ANY, EXISTS</li>
      <li>IN, BETWEEN, LIKE</li>
      <li>AND, OR, NOT
        <h2 id="constraints">Constraints</h2>
      </li>
    </ul>
  </li>
  <li>specified when the table is created or altered</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE TABLE [name] (  
    [column 1] [datatype] [inline constraint], 
    [column 2] [datatype] [inline constraint],  
    ...  
    [separate line constraint]
    [separate line constraint]
    ...
);
</code></pre></div></div>

<ul>
  <li>inline constraints:
    <ul>
      <li>NOT NULL</li>
      <li>DEFAULT [value]</li>
    </ul>
  </li>
  <li>separate line constraints
    <ul>
      <li>UNIQUE ([columns])</li>
      <li>PRIMARY KEY ([columns])</li>
      <li>FOREIGN KEY ([columns]) REFERENCES <a href="[foreign key]">foreign table</a></li>
      <li>CHECK</li>
      <li>CREATE INDEX</li>
    </ul>
  </li>
</ul>

</div>


<div class="related">
  <h2>Related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/blog/2021/09/13/ca/">
            Cultural Awareness
            <small>13 Sep 2021</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/blog/2021/09/08/root-arrow/">
            Root With Magdisk And TWRP Without Reinstalling System And Fix Safetynet
            <small>08 Sep 2021</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/blog/2021/09/07/ls1/">
            Linear Structures 1
            <small>07 Sep 2021</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='/blog/public/js/script.js'></script>
  </body>
</html>
